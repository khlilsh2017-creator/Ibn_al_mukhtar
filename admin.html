<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ø¥Ø¯Ø§Ø±Ø© (Ø§Ø´Ø¹Ø§Ø±Ø§Øª)</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --primary: #c6a047;
      --bg-color: #f8f9fa;
      --card-bg: #ffffff;
      --text-color: #333;
      --danger: #ff4d4d;
      --success: #4CAF50;
      --warning: #ff9800;
      --aliexpress-red: #FF4747;
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    body {
      font-family: 'Tajawal', sans-serif;
      background: var(--bg-color); color: var(--text-color);
      margin: 0; padding: 0; padding-top: 70px; padding-bottom: 40px;
    }
    header {
      position: fixed; top: 0; left: 0; right: 0;
      height: 60px; background: #fff;
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); z-index: 100;
    }
    header h1 { margin: 0; font-size: 18px; font-weight: 800; color: var(--primary); }
    .home-link {
      text-decoration: none; font-size: 14px; font-weight: bold; color: #333;
      background: #eee; padding: 6px 12px; border-radius: 20px;
    }
    .container { max-width: 900px; margin: 0 auto; padding: 16px; }
    .card {
      background: var(--card-bg); border-radius: 20px;
      padding: 20px; margin-bottom: 24px;
      border: 1px solid #f0f0f0; box-shadow: 0 4px 15px rgba(0,0,0,0.03);
    }
    h2 { margin-top: 0; font-size: 16px; color: var(--primary); border-bottom: 2px solid #f0f0f0; padding-bottom: 10px; margin-bottom: 15px; }
    
    /* ØªÙ†Ø³ÙŠÙ‚ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
    label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 13px; color: #555; }
    input, textarea, select {
      width: 100%; padding: 12px; border-radius: 12px;
      border: 1px solid #eee; background: #f9f9f9;
      font-family: inherit; margin-bottom: 16px; font-size: 14px;
    }
    .upload-box { border: 2px dashed #ddd; border-radius: 12px; padding: 20px; text-align: center; cursor: pointer; margin-bottom: 16px; background: #fafafa; }
    .thumbs { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 10px; }
    .thumbs img { width: 60px; height: 60px; object-fit: cover; border-radius: 10px; border: 1px solid #eee; flex-shrink: 0; }
    .btn-save { width: 100%; padding: 14px; background: var(--primary); color: #fff; border: none; border-radius: 12px; font-size: 16px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(198,160,71,0.3); }

    /* ØªÙ†Ø³ÙŠÙ‚ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
    .product-row { display: flex; align-items: center; justify-content: space-between; background: #fff; padding: 10px; margin-bottom: 10px; border-radius: 12px; border: 1px solid #f0f0f0; }
    .p-info { display: flex; align-items: center; gap: 10px; }
    
    /* ğŸ”¥ğŸ”¥ğŸ”¥ ØªÙ… Ø¥ØµÙ„Ø§Ø­ Ù…Ø´ÙƒÙ„Ø© ÙƒØ¨Ø± Ø§Ù„ØµÙˆØ±Ø© Ù‡Ù†Ø§ ğŸ”¥ğŸ”¥ğŸ”¥ */
    .p-img { 
        width: 60px !important; 
        height: 60px !important; 
        max-width: 60px !important; 
        border-radius: 8px; 
        object-fit: cover; 
        background: #eee; 
        flex-shrink: 0; 
    }
    
    .p-name { font-size: 14px; font-weight: bold; color: #333; }
    .p-price { font-size: 12px; color: var(--primary); }
    .btn-delete { background: #ffe5e5; color: var(--danger); border: none; padding: 8px 12px; border-radius: 8px; font-size: 12px; font-weight: bold; cursor: pointer; }
    
    /* ØªÙ†Ø³ÙŠÙ‚ Ù‚Ø³Ù… Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
    .order-card {
        border: 2px solid var(--warning);
        margin-bottom: 20px;
        padding: 15px;
        border-radius: 12px;
        background: #fdfdfd;
        border-width: 3px; 
    }
    .order-details { font-size: 14px; line-height: 1.6; }
    .client-name { font-size: 16px; font-weight: 800; color: #222; }
    .order-meta { font-size: 12px; color: #777; margin-bottom: 10px; }
    .item-list { font-size: 13px; margin-top: 10px; padding-right: 15px; }
    .total-price { font-size: 16px; font-weight: 800; color: var(--success); margin-top: 10px; }
    .status-badge {
        background: #ffe0b2; color: var(--warning); padding: 4px 8px; border-radius: 4px; font-size: 11px; font-weight: 700;
    }
    .no-orders { text-align: center; padding: 40px; color: #999; }
    .action-btn { 
        padding: 8px 15px; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; font-size: 12px; 
    }
    .btn-proof { background: #007bff; color: #fff; } 

    /* Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
    .new-order-alert {
        position: fixed; top: 10px; left: 50%; transform: translateX(-50%);
        background: var(--aliexpress-red); color: #fff; padding: 10px 20px;
        border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        font-weight: bold; z-index: 200;
        display: none;
    }
    
    /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© Ù„Ø¹Ø±Ø¶ ØµÙˆØ±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± */
    .modal {
        display: none; position: fixed; z-index: 500; padding-top: 60px;
        left: 0; top: 0; width: 100%; height: 100%; overflow: auto;
        background-color: rgb(0,0,0); background-color: rgba(0,0,0,0.9);
    }
    .modal-content {
        margin: auto; display: block; width: 90%; max-width: 700px;
    }
    .modal-content, .caption {
        animation-name: zoom; animation-duration: 0.6s;
    }
    @keyframes zoom {
        from {transform:scale(0)} to {transform:scale(1)}
    }
    .close {
        position: absolute; top: 15px; right: 35px; color: #f1f1f1;
        font-size: 40px; font-weight: bold; transition: 0.3s;
    }
    .close:hover, .close:focus { color: #bbb; text-decoration: none; cursor: pointer; }
  </style>
</head>
<body>

<header>
  <h1>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Ø³Ø­Ø§Ø¨ÙŠ)</h1>
  <a href="index.html" class="home-link">Ø§Ù„Ù…ØªØ¬Ø± ğŸ </a>
</header>

<div class="container">
  
  <div id="newOrderAlert" class="new-order-alert">ğŸ”” Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ ÙˆØµÙ„ Ø§Ù„Ø¢Ù†!</div>
  
  <div class="card" style="border-color:var(--warning);">
    <h2>ğŸ›ï¸ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (<span id="ordersCount">0</span>)</h2>
    <div id="ordersList">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª...</div>
  </div>

  <div class="card">
    <h2>â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h2>
    <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</label>
    <input type="text" id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬...">
    <label>Ø§Ù„Ø³Ø¹Ø±</label>
    <input type="text" id="price" placeholder="Ù…Ø«Ø§Ù„: 5000">
    <label>Ø§Ù„ØªØµÙ†ÙŠÙ</label>
    <select id="category">
      <option value="Ø£Ø¯ÙˆØ§Øª Ù…Ù†Ø²Ù„ÙŠØ©">Ø£Ø¯ÙˆØ§Øª Ù…Ù†Ø²Ù„ÙŠØ©</option>
      <option value="Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª">Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</option>
    </select>
    <label>ØµÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬</label>
    <div class="upload-box" onclick="document.getElementById('imagesInput').click()">
      <span class="upload-icon">ğŸ“·</span>
      <span class="upload-text">Ø§Ø¶ØºØ· Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØ±</span>
    </div>
    <input type="file" id="imagesInput" accept="image/*" multiple>
    <div class="thumbs" id="previewBox"></div>
    <label>Ø§Ù„ÙˆØµÙ</label>
    <textarea id="desc" placeholder="ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬..."></textarea>
    <button class="btn-save" onclick="saveProduct()">Ø­ÙØ¸ ÙˆÙ†Ø´Ø± Ø§Ù„Ù…Ù†ØªØ¬</button>
  </div>

  <div class="card">
    <h2>ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ± (<span id="count">0</span>)</h2>
    <div id="productsList">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</div>
  </div>

</div>

<div id="proofModal" class="modal" onclick="this.style.display='none'">
  <span class="close">&times;</span>
  <img class="modal-content" id="proofImage">
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc, updateDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

  // ğŸ”¥ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø´Ø±ÙˆØ¹Ùƒ
  const firebaseConfig = {
    apiKey: "AIzaSyB5mEBB0plzw_d-gAth-TK0xR523IX6nGg",
    authDomain: "my-fils-575be.firebaseapp.com",
    projectId: "my-fils-575be",
    storageBucket: "my-fils-575be.firebasestorage.app",
    messagingSenderId: "670428095338",
    appId: "1:670428095338:web:75d4a577cc648c208d7b13"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const productsCol = collection(db, "products"); 
  const ordersCol = collection(db, "orders"); 

  let selectedImages = [];
  let lastOrderCount = 0; 
  let audio = new Audio('https://notificationsounds.com/storage/sounds/file-sounds/26540-bell-ding.mp3');

  // ------------------------------------------------------------------
  // 1. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
  // ------------------------------------------------------------------

  document.getElementById("imagesInput").addEventListener("change", function () {
    selectedImages = [];
    document.getElementById("previewBox").innerHTML = "";
    const files = [...this.files];
    if(files.length > 0) document.querySelector('.upload-box span:last-child').textContent = `ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${files.length} ØµÙˆØ±`;

    files.forEach(file => {
      const reader = new FileReader();
      reader.onload = e => {
        selectedImages.push(e.target.result);
        const img = document.createElement("img");
        img.src = e.target.result;
        document.getElementById("previewBox").appendChild(img);
      };
      reader.readAsDataURL(file);
    });
  });

  window.saveProduct = async function() {
    const name = document.getElementById("name").value.trim();
    const price = document.getElementById("price").value.trim();
    const description = document.getElementById("desc").value.trim();
    const category = document.getElementById("category").value;
    const btn = document.querySelector('.btn-save');

    if (!name || !price) {
      alert("âŒ ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ§Ù„Ø³Ø¹Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„");
      return;
    }

    btn.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø±ÙØ¹ Ù„Ù„Ø³ÙŠØ±ÙØ±...";
    btn.disabled = true;

    try {
      await addDoc(productsCol, {
        name: name, price: price, description: description, category: category, image: selectedImages, createdAt: new Date()
      });
      alert("âœ… ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­!");
      location.reload(); 
    } catch (e) {
      console.error("Error adding document: ", e);
      alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸: " + e.message);
      btn.textContent = "Ø­ÙØ¸ ÙˆÙ†Ø´Ø± Ø§Ù„Ù…Ù†ØªØ¬";
      btn.disabled = false;
    }
  }

  window.deleteProduct = async function(id) {
    if(!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±ØŸ")) return;
    try {
        await deleteDoc(doc(db, "products", id));
        renderProducts();
    } catch(e) {
        alert("Ø®Ø·Ø£: " + e.message);
    }
  }

  async function renderProducts() {
    const box = document.getElementById("productsList");
    try {
        const snapshot = await getDocs(productsCol);
        box.innerHTML = "";
        document.getElementById("count").textContent = snapshot.docs.length;

        if (snapshot.docs.length === 0) {
            box.innerHTML = "<div style='text-align:center;color:#777;'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹</div>";
            return;
        }

        snapshot.docs.forEach(docSnap => {
          const p = docSnap.data();
          const pId = docSnap.id;
          const thumb = Array.isArray(p.image) && p.image.length > 0 ? p.image[0] : '';
          
          const row = document.createElement("div");
          row.className = "product-row";
          row.innerHTML = `
            <div class="p-info">
              <img src="${thumb}" class="p-img">
              <div>
                <div class="p-name">${p.name}</div>
                <div class="p-price">${p.price}</div>
              </div>
            </div>
            <button class="btn-delete" onclick="deleteProduct('${pId}')">Ø­Ø°Ù</button>
          `;
          box.appendChild(row);
        });
    } catch (e) {
        box.innerHTML = `<div style='color:red;text-align:center'>ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„: ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase</div>`;
        console.error(e);
    }
  }

  // ------------------------------------------------------------------
  // 2. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© + Ø§Ù„Ø§Ø´Ø¹Ø§Ø±Ø§Øª
  // ------------------------------------------------------------------

  async function renderOrders() {
      const box = document.getElementById("ordersList");
      
      try {
          const snapshot = await getDocs(ordersCol); 
          const activeOrders = snapshot.docs.filter(doc => doc.data().orderStatus === 'Ø¬Ø¯ÙŠØ¯');

          if (lastOrderCount > 0 && activeOrders.length > lastOrderCount) {
              triggerAlert(activeOrders.length - lastOrderCount);
          }
          lastOrderCount = activeOrders.length; 
          
          box.innerHTML = "";
          document.getElementById("ordersCount").textContent = activeOrders.length;

          if (activeOrders.length === 0) {
              box.innerHTML = `<div class="no-orders">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø­Ø§Ù„ÙŠØ§Ù‹.</div>`;
              return;
          }

          activeOrders.forEach(docSnap => {
              const order = docSnap.data();
              const orderId = docSnap.id;
              
              const itemsList = order.items.map(item => 
                `<li>${item.name} (Ø¹Ø¯Ø¯: ${item.qty})</li>`
              ).join('');

              let orderDate = order.orderTime ? new Date(order.orderTime).toLocaleString('ar-EG') : 'ØºÙŠØ± Ù…ØªÙˆÙØ±';
              
              const showProofBtn = order.paymentProof && order.paymentMethod !== 'Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…' ? 
                `<button class="action-btn btn-proof" onclick="showProof('${order.paymentProof}')">ğŸ“· Ø¹Ø±Ø¶ Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø¯ÙØ¹</button>` : '';

              const orderCard = document.createElement('div');
              orderCard.className = 'order-card';
              orderCard.id = `order-${orderId}`;
              
              orderCard.innerHTML = `
                <div class="order-header">
                    <span class="status-badge">Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</span>
                    <span class="order-meta">ØªØ§Ø±ÙŠØ®: ${orderDate}</span>
                </div>
                <div class="order-details">
                    <p class="client-name">${order.clientName}</p>
                    <p>ğŸ“± Ø§Ù„Ø¬ÙˆØ§Ù„: <a href="tel:${order.clientPhone}" style="color:blue;">${order.clientPhone}</a></p>
                    <p>ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${order.clientLocation}</p>
                    
                    <hr style="border:none; border-top:1px dotted #eee; margin: 10px 0;">
                    <p style="font-weight:700;">ğŸ’³ Ø§Ù„Ø¯ÙØ¹: ${order.paymentMethod}</p>
                    
                    <p style="font-weight:700; margin-top:10px;">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª:</p>
                    <ul class="item-list">${itemsList}</ul>
                    
                    <p class="total-price">
                        Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: ${order.finalTotal.toLocaleString()} Ø±.ÙŠ
                    </p>
                </div>
                <div style="text-align:center; margin-top:15px;">
                    ${showProofBtn}
                    <button class="action-btn" style="background:var(--success); color:#fff; margin-right:10px;" 
                            onclick="markAsProcessed('${orderId}')">
                        âœ… ØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ ÙˆØ§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
                    </button>
                    <button class="action-btn" style="background:var(--danger); color:#fff;" 
                            onclick="deleteOrder('${orderId}')">
                        ğŸ—‘ï¸ Ø­Ø°Ù
                    </button>
                </div>
              `;
              box.appendChild(orderCard);
          });

      } catch (e) {
          console.error("Error fetching orders: ", e);
          box.innerHTML = `<div style='color:red;text-align:center'>ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª.</div>`;
      }
  }

  // ğŸ”¥ ÙˆØ¸ÙŠÙØ© Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± ÙÙŠ Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø©
  window.showProof = function(base64Image) {
      const modal = document.getElementById("proofModal");
      const image = document.getElementById("proofImage");
      image.src = base64Image;
      modal.style.display = "block";
  }

  // ÙˆØ¸ÙŠÙØ© ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡
  function triggerAlert(newCount) {
      audio.play();
      const alertBox = document.getElementById('newOrderAlert');
      alertBox.textContent = `ğŸ”” ÙˆØµÙ„ ${newCount} Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯!`;
      alertBox.style.display = 'block';

      setTimeout(() => {
          alertBox.style.display = 'none';
      }, 5000);
  }

  // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª
  window.markAsProcessed = async function(id) {
      if(!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø© 'ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©' Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ØŸ")) return;
      try {
          const orderRef = doc(db, "orders", id);
          await updateDoc(orderRef, {
              orderStatus: 'ØªÙ… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©',
              processedAt: new Date().toISOString()
          });
          renderOrders(); 
      } catch (e) {
          alert("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©: " + e.message);
      }
  }
  
  window.deleteOrder = async function(id) {
       if(!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ")) return;
       try {
           await deleteDoc(doc(db, "orders", id));
           renderOrders();
       } catch (e) {
           alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­Ø°Ù: " + e.message);
       }
  }

  // Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ«
  setInterval(renderOrders, 10000); 

  renderProducts();
  renderOrders();
</script>

</body>
</html>
